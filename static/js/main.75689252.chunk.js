(this["webpackJsonpmy-store"]=this["webpackJsonpmy-store"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(10),o=n.n(a),i=n(15),s=n(53),u=n(70),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CART":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_LIST":return t.payload;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return t.payload;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT":return t.payload;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATEGORY":return t.payload;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE_NUM":return t.payload;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCheckOut:!1,emptyCart:[],invoiceTotal:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_OUT":return t.payload;default:return e}},O=Object(s.b)({productList:h,product:p,categories:j,cartItems:l,selectedCategory:d,currentPageNum:b,checkOut:f}),x=n(31),g=n(14),m=n(8),v=n.n(m),y=n(18),k={query:C,getById:function(e,t){return C(e).then((function(e){return e.find((function(e){return e.id===t}))}))},post:function(e,t){return t.id=T(),C(e).then((function(n){return n.unshift(t),w(e,n),t}))},remove:function(e,t){return C(e).then((function(n){var r=n.findIndex((function(e){return e.id===t}));n.splice(r,1),w(e,n)}))},saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t)||null)},loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}};function C(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function T(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var E={query:function(){return N.apply(this,arguments)},queryByCategory:S,getCategories:function(){return I.apply(this,arguments)}};function N(){return(N=Object(y.a)(v.a.mark((function e(){var t,n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=r.length>0&&void 0!==r[0]?r[0]:"")){e.next=12;break}return e.next=4,k.query("productList");case 4:if((n=e.sent)&&n.length){e.next=8;break}return console.log("getting data from API"),e.abrupt("return",fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){return k.saveToStorage("productList",e),e})));case 8:return console.log("getting data from local storage"),e.abrupt("return",n);case 12:return e.abrupt("return",S(t));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return fetch("https://fakestoreapi.com/products/category/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))}function I(){return(I=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.query("categories");case 2:return(t=e.sent)&&t.length||fetch("https://fakestoreapi.com/products/categories").then((function(e){return e.json()})).then((function(e){return k.saveToStorage("categories",e),e})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P={getCart:_,addToCart:function(e){return G.apply(this,arguments)},deleteCart:M,checkOut:function(e){return B.apply(this,arguments)}};function _(){return A.apply(this,arguments)}function A(){return(A=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.query("cartItems");case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return n=e.sent,t.qty=1,n.push(t),k.saveToStorage("cartItems",n),e.abrupt("return",fetch("https://fakestoreapi.com/carts/",{method:"POST",body:JSON.stringify({userId:1,date:"2021 - 06 - 12",products:[{productId:t.id,quantity:1}]})}).then((function(e){return e.json()})).then((function(e){return e})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(y.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{isCheckOut:t,emptyCart:[]});case 2:return n=!1,e.next=5,M();case 5:return r=e.sent,console.log("checkout done!"),n=!0,e.abrupt("return",{isCheckOut:n,emptyCart:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return(R=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.saveToStorage("cartItems",[]),e.abrupt("return",fetch("https://fakestoreapi.com/carts/6",{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log("deleteCart",e),[]})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.addToCart(e);case 3:r=t.sent,n({type:"ADD_TO_CART",payload:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with addToCart");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},L=function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getCart();case 3:n=e.sent,t({type:"GET_CART",payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with addToCart");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var n=Object(y.a)(v.a.mark((function n(r){var c,a,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.checkOut(e);case 3:c=n.sent,a=c.isCheckOut,o=c.emptyCart,r({type:"CHECK_OUT",payload:{isCheckOut:a,emptyCart:o,invoiceTotal:t}}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("Error with checkOut");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},F=n(143),J=n(151),U=n(155),z=n(154),W=n(150),Y=n(152),H=n(153),K=n(71),Q=n.n(K),$=n(76),V=n(149),X=n(166),Z=n(165),ee=n(2),te=Object(F.a)((function(e){return Object(X.a)({root:{"& > *":{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})})),ne=function(e){var t=e.productsLength,n=Object(i.b)(),r=te();return Object(ee.jsx)("div",{className:r.root,children:Object(ee.jsx)(Z.a,{count:Math.ceil(t/5),color:"primary",onChange:function(e,t){var r;n((r=t-1,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET_PAGE_NUM",payload:r})}catch(n){console.log("Error with setPageNum")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})})},re=n(168),ce=n(167),ae=n(148),oe=n(147),ie=n(164),se=Object(F.a)((function(e){return Object(X.a)({formControl:{marginTop:e.spacing(3),marginBottom:e.spacing(3),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})}));function ue(){var e=Object(i.b)();Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getCategories();case 3:n=e.sent,t({type:"GET_CATEGORIES",payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with getCategories");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(i.c)((function(e){return e.categories})),n=Object(i.c)((function(e){return e.selectedCategory})),c=se();return Object(ee.jsx)("div",{children:t&&t.length&&Object(ee.jsxs)(oe.a,{className:c.formControl,children:[Object(ee.jsx)(re.a,{id:"demo-simple-select-helper-label",children:"Category"}),Object(ee.jsxs)(ie.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:n,onChange:function(t){var n;e((n=t.target.value,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET_CATEGORY",payload:n})}catch(r){console.log("Error with setCategory")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ee.jsx)(ce.a,{value:"",children:Object(ee.jsx)("em",{children:"None"})}),t.map((function(e){return Object(ee.jsxs)(ce.a,{value:e,children:[e," "]},e)}))]}),Object(ee.jsx)(ae.a,{children:"Choose a Category you're interested in"})]})})}var le=Object(F.a)({table:{minWidth:700}}),he=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.selectedCategory})),n=Object(i.c)((function(e){return e.currentPageNum}));Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.query(e);case 3:r=t.sent,n({type:"GET_PRODUCT_LIST",payload:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with getProductList");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]);var c=Object(i.c)((function(e){return e.productList})),a=c.slice(5*n,5*n+5),o=le(),s=function(){var t=Object(y.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(q(n));case 2:e(L()),e(D(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ee.jsxs)(V.a,{fixed:!0,children:[Object(ee.jsx)(ue,{}),a&&a.length&&Object(ee.jsx)(W.a,{component:$.a,children:Object(ee.jsxs)(J.a,{className:o.table,"aria-label":"simple table",children:[Object(ee.jsx)(Y.a,{children:Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:"Product title"}),Object(ee.jsx)(z.a,{align:"right",children:"Price ($)"}),Object(ee.jsx)(z.a,{align:"center",children:"Image"}),Object(ee.jsx)(z.a,{align:"right",children:"Add to cart"})]})}),Object(ee.jsx)(U.a,{children:a.map((function(e){return Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{component:"th",scope:"row",children:e.title}),Object(ee.jsx)(z.a,{align:"center",children:e.price}),Object(ee.jsx)(z.a,{align:"center",children:Object(ee.jsx)("img",{className:"product-img",src:e.image,alt:""})}),Object(ee.jsx)(z.a,{align:"center",children:Object(ee.jsx)(Q.a,{className:"add-to-cart-icon",onClick:function(){return s(e)}})})]},e.id)}))})]})}),Object(ee.jsx)(ne,{productsLength:c.length})]})},je=n(156),pe=n(157),de=n(158),be=Object(F.a)({root:{maxWidth:500,margin:"24px auto",textAlign:"center",padding:"20px"},title:{fontSize:20}}),fe=function(e){var t=e.invoiceTotalForMsg,n=be();return Object(ee.jsx)(je.a,{className:n.root,children:Object(ee.jsxs)(pe.a,{children:[Object(ee.jsx)(de.a,{className:n.title,color:"textSecondary",gutterBottom:!0,children:"Checkout completed successfully!"}),Object(ee.jsxs)(de.a,{variant:"h5",component:"h2",children:["Payment of $",t," recieved"]}),Object(ee.jsxs)(de.a,{variant:"body2",component:"pre",style:{marginTop:"16px"},children:[Object(ee.jsx)("p",{children:"Your items are due to arrive within the next 7 business days"}),Object(ee.jsx)("p",{children:"Feel free to contact us for any questions or issues"}),Object(ee.jsxs)("p",{children:["At: ",Object(ee.jsx)("a",{href:"my-store@react.redux",children:"my-store@react.redux"})]})]})]})})},Oe=n(159),xe=Object(F.a)((function(e){return Object(X.a)({table:{minWidth:700,marginTop:e.spacing(3),marginBottom:e.spacing(3)}})}));function ge(e){return"".concat(e.toFixed(2))}var me=function(){var e,t=Object(i.b)(),n=Object(i.c)((function(e){return e.cartItems}));Object(r.useEffect)((function(){t(L())}),[]);var c=function(e){if(e&&e.length)return e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)}(n)||0,a=.17*c,o=a+c,s=xe();e=Object(i.c)((function(e){return e.checkOut})).isCheckOut;var u=Object(i.c)((function(e){return e.checkOut})).invoiceTotal.toFixed(2),l=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(D(!0,o));case 2:return e.next=4,t(L());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(V.a,{fixed:!0,children:[Object(ee.jsx)(x.b,{to:"/",children:Object(ee.jsx)(Oe.a,{className:"btn",variant:"contained",color:"primary",children:"Back to Products list"})}),n.length>0&&Object(ee.jsxs)(W.a,{className:s.table,component:$.a,children:[Object(ee.jsxs)(J.a,{"aria-label":"spanning table",children:[Object(ee.jsx)(Y.a,{children:Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:"Product title"}),Object(ee.jsx)(z.a,{children:"Price"}),Object(ee.jsx)(z.a,{align:"center",children:"Image"}),Object(ee.jsx)(z.a,{children:"Qty."})]})}),Object(ee.jsxs)(U.a,{children:[n.map((function(e){return Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:e.title}),Object(ee.jsx)(z.a,{children:e.price}),Object(ee.jsx)(z.a,{align:"center",children:Object(ee.jsx)("img",{className:"cart-item-img",src:e.image,alt:""})}),Object(ee.jsx)(z.a,{children:"1"})]},e.id)})),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{rowSpan:3}),Object(ee.jsx)(z.a,{colSpan:2,children:"Subtotal"}),Object(ee.jsx)(z.a,{className:"cart-price",align:"right",children:ge(c)})]}),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:"Tax"}),Object(ee.jsx)(z.a,{align:"right",children:"".concat(17..toFixed(0)," %")}),Object(ee.jsx)(z.a,{className:"cart-price",align:"right",children:ge(a)})]}),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{colSpan:2,children:"Total"}),Object(ee.jsx)(z.a,{className:"cart-price",align:"right",children:ge(o)})]})]})]}),Object(ee.jsx)(Oe.a,{className:"btn btn-check-out",variant:"contained",color:"primary",onClick:function(){return l()},children:"Check Out"})]}),e&&Object(ee.jsx)(fe,{invoiceTotalForMsg:u})]})},ve=n(68),ye=n(61),ke=n(162),Ce=n(163),we=n(160),Te=n(161),Ee=n(66),Ne=n.n(Ee),Se=n(74),Ie=n(72),Pe=n.n(Ie),_e=n(67),Ae=n.n(_e),Ge=n(73),Be=n.n(Ge),Me=Object(F.a)((function(e){return Object(X.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(ye.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},sectionDesktop:Object(ye.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(ye.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})}));function Re(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cartItems}));Object(r.useEffect)((function(){e(L())}),[]);var n=Me(),a=c.a.useState(null),o=Object(ve.a)(a,2),s=o[0],u=o[1],l=c.a.useState(null),h=Object(ve.a)(l,2),j=h[0],p=h[1],d=Boolean(s),b=Boolean(j),f=function(e){u(e.currentTarget)},O=function(){p(null)},g=function(){u(null),O()},m="primary-search-account-menu",v=Object(ee.jsxs)(Se.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:g,children:[Object(ee.jsx)(ce.a,{onClick:g,children:"Profile"}),Object(ee.jsx)(ce.a,{onClick:g,children:"My account"})]}),y="primary-search-account-menu-mobile",k=Object(ee.jsxs)(Se.a,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:O,children:[Object(ee.jsx)(x.b,{className:"link",to:"/cart",children:Object(ee.jsxs)(ce.a,{children:[Object(ee.jsx)(we.a,{"aria-label":"show new notifications",color:"inherit",children:Object(ee.jsx)(Te.a,{badgeContent:t.length,color:"secondary",children:Object(ee.jsx)(Ne.a,{})})}),Object(ee.jsx)("p",{children:"Cart"})]})}),Object(ee.jsxs)(ce.a,{onClick:f,children:[Object(ee.jsx)(we.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(ee.jsx)(Ae.a,{})}),Object(ee.jsx)("p",{children:"Profile"})]})]});return Object(ee.jsxs)("div",{className:n.grow,children:[Object(ee.jsx)(ke.a,{position:"static",children:Object(ee.jsxs)(Ce.a,{children:[Object(ee.jsx)(we.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"open drawer",children:Object(ee.jsx)(Pe.a,{})}),Object(ee.jsx)(de.a,{className:n.title,variant:"h6",noWrap:!0,children:Object(ee.jsx)(x.b,{to:"/",children:"Products"})}),Object(ee.jsx)("div",{className:n.grow}),Object(ee.jsxs)("div",{className:n.sectionDesktop,children:[Object(ee.jsx)(we.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(ee.jsx)(x.b,{className:"link",to:"/cart",children:Object(ee.jsx)(Te.a,{badgeContent:t.length,color:"secondary",children:Object(ee.jsx)(Ne.a,{})})})}),Object(ee.jsx)(we.a,{edge:"end","aria-label":"account of current user","aria-controls":m,"aria-haspopup":"true",onClick:f,color:"inherit",children:Object(ee.jsx)(Ae.a,{})})]}),Object(ee.jsx)("div",{className:n.sectionMobile,children:Object(ee.jsx)(we.a,{"aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit",children:Object(ee.jsx)(Be.a,{})})})]})}),k,v]})}n(102);var qe=function(){return Object(ee.jsx)("div",{className:"App",children:Object(ee.jsxs)(x.a,{children:[Object(ee.jsx)(Re,{}),Object(ee.jsx)(g.a,{component:me,path:"/cart"}),Object(ee.jsx)(g.a,{component:he,exact:!0,path:"/"})]})})},Le=Object(s.c)(O,Object(s.a)(u.a));o.a.render(Object(ee.jsx)(i.a,{store:Le,children:Object(ee.jsx)(qe,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.75689252.chunk.js.map