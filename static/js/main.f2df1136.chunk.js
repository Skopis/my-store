(this["webpackJsonpmy-store"]=this["webpackJsonpmy-store"]||[]).push([[0],{102:function(e,t,r){},103:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(10),o=r.n(a),i=r(15),s=r(53),u=r(70),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CART":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_LIST":return t.payload;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return t.payload;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT":return t.payload;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATEGORY":return t.payload;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE_NUM":return t.payload;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCheckOut:!1,emptyCart:[],invoiceTotal:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_OUT":return t.payload;default:return e}},O=Object(s.b)({productList:h,product:j,categories:p,cartItems:l,selectedCategory:d,currentPageNum:b,checkOut:f}),x=r(31),g=r(14),m=r(8),v=r.n(m),y=r(18),k={query:C,getById:function(e,t){return C(e).then((function(e){return e.find((function(e){return e.id===t}))}))},post:function(e,t){return t.id=T(),C(e).then((function(r){return r.unshift(t),w(e,r),t}))},remove:function(e,t){return C(e).then((function(r){var n=r.findIndex((function(e){return e.id===t}));r.splice(n,1),w(e,r)}))},saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t)||null)},loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}};function C(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function T(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}var E={query:function(){return N.apply(this,arguments)},queryByCategory:S,getCategories:function(){return I.apply(this,arguments)}};function N(){return(N=Object(y.a)(v.a.mark((function e(){var t,r,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=n.length>0&&void 0!==n[0]?n[0]:"")){e.next=12;break}return e.next=4,k.query("productList");case 4:if((r=e.sent)&&r.length){e.next=8;break}return console.log("getting data from API"),e.abrupt("return",fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){return k.saveToStorage("productList",e),e})));case 8:return console.log("getting data from local storage"),e.abrupt("return",r);case 12:return e.abrupt("return",S(t));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return fetch("https://fakestoreapi.com/products/category/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))}function I(){return(I=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.query("categories");case 2:return(t=e.sent)&&t.length||fetch("https://fakestoreapi.com/products/categories").then((function(e){return e.json()})).then((function(e){return k.saveToStorage("categories",e),e})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P={getCart:_,addToCart:function(e){return G.apply(this,arguments)},deleteCart:M,checkOut:function(e){return B.apply(this,arguments)}};function _(){return A.apply(this,arguments)}function A(){return(A=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.query("cartItems");case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return r=e.sent,t.qty=1,r.push(t),k.saveToStorage("cartItems",r),e.abrupt("return",fetch("https://fakestoreapi.com/carts/",{method:"POST",body:JSON.stringify({userId:1,date:"2021 - 06 - 12",products:[{productId:t.id,quantity:1}]})}).then((function(e){return e.json()})).then((function(e){return e})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(y.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{isCheckOut:t,emptyCart:[]});case 2:return r=!1,e.next=5,M();case 5:return n=e.sent,console.log("checkout done!"),r=!0,e.abrupt("return",{isCheckOut:r,emptyCart:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return(R=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.saveToStorage("cartItems",[]),e.abrupt("return",fetch("https://fakestoreapi.com/carts/6",{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log("deleteCart",e),[]})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.addToCart(e);case 3:n=t.sent,r({type:"ADD_TO_CART",payload:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with addToCart");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},q=function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getCart();case 3:r=e.sent,t({type:"GET_CART",payload:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with addToCart");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var r=Object(y.a)(v.a.mark((function r(n){var c,a,o;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P.checkOut(e);case 3:c=r.sent,a=c.isCheckOut,o=c.emptyCart,n({type:"CHECK_OUT",payload:{isCheckOut:a,emptyCart:o,invoiceTotal:t}}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log("Error with checkOut");case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},D=r(143),U=r(151),J=r(155),z=r(154),W=r(150),Y=r(152),H=r(153),K=r(71),Q=r.n(K),$=r(76),V=r(149),X=r(166),Z=r(165),ee=r(2),te=Object(D.a)((function(e){return Object(X.a)({root:{"& > *":{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})})),re=function(e){var t=e.productsLength,r=Object(i.b)(),n=te();return Object(ee.jsx)("div",{className:n.root,children:Object(ee.jsx)(Z.a,{count:Math.ceil(t/5),color:"primary",onChange:function(e,t){var n;r((n=t-1,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET_PAGE_NUM",payload:n})}catch(r){console.log("Error with setPageNum")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})})},ne=r(168),ce=r(167),ae=r(148),oe=r(147),ie=r(164),se=Object(D.a)((function(e){return Object(X.a)({formControl:{marginTop:e.spacing(3),marginBottom:e.spacing(3),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})}));function ue(){var e=Object(i.b)();Object(n.useEffect)((function(){e(function(){var e=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getCategories();case 3:r=e.sent,t({type:"GET_CATEGORIES",payload:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with getCategories");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(i.c)((function(e){return e.categories})),r=Object(i.c)((function(e){return e.selectedCategory})),c=se();return Object(ee.jsx)("div",{children:t&&t.length&&Object(ee.jsxs)(oe.a,{className:c.formControl,children:[Object(ee.jsx)(ne.a,{id:"demo-simple-select-helper-label",children:"Category"}),Object(ee.jsxs)(ie.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:r,onChange:function(t){var r;e((r=t.target.value,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET_CATEGORY",payload:r})}catch(n){console.log("Error with setCategory")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ee.jsx)(ce.a,{value:"",children:Object(ee.jsx)("em",{children:"None"})}),t.map((function(e){return Object(ee.jsxs)(ce.a,{value:e,children:[e.charAt(0).toUpperCase()+e.slice(1)," "]},e)}))]}),Object(ee.jsx)(ae.a,{children:"Choose a Category you're interested in"})]})})}var le=Object(D.a)({table:{minWidth:700,backgroundColor:"#F9F9F9",fontFamily:"cursive"}}),he=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.selectedCategory})),r=Object(i.c)((function(e){return e.currentPageNum}));Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.query(e);case 3:n=t.sent,r({type:"GET_PRODUCT_LIST",payload:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with getProductList");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]);var c=Object(i.c)((function(e){return e.productList})),a=c.slice(5*r,5*r+5),o=le(),s=function(){var t=Object(y.a)(v.a.mark((function t(r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(F(r));case 2:e(q()),e(L(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ee.jsxs)(V.a,{fixed:!0,children:[Object(ee.jsx)(ue,{}),a&&a.length&&Object(ee.jsx)(W.a,{component:$.a,children:Object(ee.jsxs)(U.a,{className:o.table,"aria-label":"simple table",children:[Object(ee.jsx)(Y.a,{children:Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:"Product title"}),Object(ee.jsx)(z.a,{align:"right",children:"Price ($)"}),Object(ee.jsx)(z.a,{align:"center",children:"Image"}),Object(ee.jsx)(z.a,{align:"right",children:"Add to cart"})]})}),Object(ee.jsx)(J.a,{children:a.map((function(e){return Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{component:"th",scope:"row",children:e.title}),Object(ee.jsx)(z.a,{align:"center",children:e.price}),Object(ee.jsx)(z.a,{align:"center",children:Object(ee.jsx)("img",{className:"product-img",src:e.image,alt:""})}),Object(ee.jsx)(z.a,{align:"center",children:Object(ee.jsx)(Q.a,{className:"add-to-cart-icon",onClick:function(){return s(e)}})})]},e.id)}))})]})}),Object(ee.jsx)(re,{productsLength:c.length})]})},pe=r(156),je=r(157),de=r(158),be=Object(D.a)({root:{maxWidth:500,margin:"24px auto",textAlign:"center",padding:"20px"},title:{fontSize:20}}),fe=function(e){var t=e.invoiceTotalForMsg,r=be();return Object(ee.jsx)(pe.a,{className:r.root,children:Object(ee.jsxs)(je.a,{children:[Object(ee.jsx)(de.a,{className:r.title,color:"textSecondary",gutterBottom:!0,children:"Checkout completed successfully!"}),Object(ee.jsxs)(de.a,{variant:"h5",component:"h2",children:["Payment of $",t," recieved"]}),Object(ee.jsxs)(de.a,{variant:"body2",component:"pre",style:{marginTop:"16px"},children:[Object(ee.jsx)("p",{children:"Your items are due to arrive within the next 7 business days"}),Object(ee.jsx)("p",{children:"Feel free to contact us for any questions or issues"}),Object(ee.jsxs)("p",{children:["At: ",Object(ee.jsx)("a",{href:"my-store@react.redux",children:"my-store@react.redux"})]})]})]})})},Oe=r(159),xe=Object(D.a)((function(e){return Object(X.a)({table:{minWidth:700,marginTop:e.spacing(3),marginBottom:e.spacing(3)}})}));function ge(e){return"".concat(e.toFixed(2))}var me=function(){var e,t=Object(i.b)(),r=Object(i.c)((function(e){return e.cartItems}));Object(n.useEffect)((function(){t(q())}),[]);var c=function(e){if(e&&e.length)return e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)}(r)||0,a=.17*c,o=a+c,s=xe();e=Object(i.c)((function(e){return e.checkOut})).isCheckOut;var u=Object(i.c)((function(e){return e.checkOut})).invoiceTotal.toFixed(2),l=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(L(!0,o));case 2:return e.next=4,t(q());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(V.a,{fixed:!0,children:[Object(ee.jsx)(x.b,{to:"/",children:Object(ee.jsx)(Oe.a,{className:"btn",variant:"contained",color:"primary",children:"Back to Products list"})}),r.length>0&&Object(ee.jsxs)(W.a,{className:s.table,component:$.a,children:[Object(ee.jsxs)(U.a,{"aria-label":"spanning table",children:[Object(ee.jsx)(Y.a,{children:Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:"Product title"}),Object(ee.jsx)(z.a,{children:"Price"}),Object(ee.jsx)(z.a,{align:"center",children:"Image"}),Object(ee.jsx)(z.a,{children:"Qty."})]})}),Object(ee.jsxs)(J.a,{children:[r.map((function(e){return Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:e.title}),Object(ee.jsx)(z.a,{children:e.price}),Object(ee.jsx)(z.a,{align:"center",children:Object(ee.jsx)("img",{className:"cart-item-img",src:e.image,alt:""})}),Object(ee.jsx)(z.a,{children:"1"})]},e.id)})),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{rowSpan:3}),Object(ee.jsx)(z.a,{colSpan:2,children:"Subtotal"}),Object(ee.jsx)(z.a,{className:"cart-price",align:"right",children:ge(c)})]}),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{children:"Tax"}),Object(ee.jsx)(z.a,{align:"right",children:"".concat(17..toFixed(0)," %")}),Object(ee.jsx)(z.a,{className:"cart-price",align:"right",children:ge(a)})]}),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(z.a,{colSpan:2,children:"Total"}),Object(ee.jsx)(z.a,{className:"cart-price",align:"right",children:ge(o)})]})]})]}),Object(ee.jsx)(Oe.a,{className:"btn btn-check-out",variant:"contained",color:"primary",onClick:function(){return l()},children:"Check Out"})]}),e&&Object(ee.jsx)(fe,{invoiceTotalForMsg:u})]})},ve=r(68),ye=r(61),ke=r(162),Ce=r(163),we=r(160),Te=r(161),Ee=r(66),Ne=r.n(Ee),Se=r(74),Ie=r(72),Pe=r.n(Ie),_e=r(67),Ae=r.n(_e),Ge=r(73),Be=r.n(Ge),Me=Object(D.a)((function(e){return Object(X.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(ye.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},sectionDesktop:Object(ye.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(ye.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})}));function Re(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cartItems}));Object(n.useEffect)((function(){e(q())}),[]);var r=Me(),a=c.a.useState(null),o=Object(ve.a)(a,2),s=o[0],u=o[1],l=c.a.useState(null),h=Object(ve.a)(l,2),p=h[0],j=h[1],d=Boolean(s),b=Boolean(p),f=function(e){u(e.currentTarget)},O=function(){j(null)},g=function(){u(null),O()},m="primary-search-account-menu",v=Object(ee.jsxs)(Se.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:g,children:[Object(ee.jsx)(ce.a,{onClick:g,children:"Profile"}),Object(ee.jsx)(ce.a,{onClick:g,children:"My account"})]}),y="primary-search-account-menu-mobile",k=Object(ee.jsxs)(Se.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:O,children:[Object(ee.jsx)(x.b,{className:"link",to:"/cart",children:Object(ee.jsxs)(ce.a,{children:[Object(ee.jsx)(we.a,{"aria-label":"show new notifications",color:"inherit",children:Object(ee.jsx)(Te.a,{badgeContent:t.length,color:"secondary",children:Object(ee.jsx)(Ne.a,{})})}),Object(ee.jsx)("p",{children:"Cart"})]})}),Object(ee.jsxs)(ce.a,{onClick:f,children:[Object(ee.jsx)(we.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(ee.jsx)(Ae.a,{})}),Object(ee.jsx)("p",{children:"Profile"})]})]});return Object(ee.jsxs)("div",{className:r.grow,children:[Object(ee.jsx)(ke.a,{className:"app-header",position:"static",children:Object(ee.jsxs)(Ce.a,{children:[Object(ee.jsx)(we.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"open drawer",children:Object(ee.jsx)(Pe.a,{})}),Object(ee.jsx)(de.a,{className:r.title,variant:"h6",noWrap:!0,children:Object(ee.jsx)(x.b,{to:"/",children:"Products"})}),Object(ee.jsx)("div",{className:r.grow}),Object(ee.jsxs)("div",{className:r.sectionDesktop,children:[Object(ee.jsx)(we.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(ee.jsx)(x.b,{className:"link",to:"/cart",children:Object(ee.jsx)(Te.a,{badgeContent:t.length,color:"secondary",children:Object(ee.jsx)(Ne.a,{})})})}),Object(ee.jsx)(we.a,{edge:"end","aria-label":"account of current user","aria-controls":m,"aria-haspopup":"true",onClick:f,color:"inherit",children:Object(ee.jsx)(Ae.a,{})})]}),Object(ee.jsx)("div",{className:r.sectionMobile,children:Object(ee.jsx)(we.a,{"aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(ee.jsx)(Be.a,{})})})]})}),k,v]})}r(102);var Fe=function(){return Object(ee.jsx)("div",{className:"App",children:Object(ee.jsxs)(x.a,{children:[Object(ee.jsx)(Re,{}),Object(ee.jsx)(g.a,{component:me,path:"/cart"}),Object(ee.jsx)(g.a,{component:he,exact:!0,path:"/"})]})})},qe=Object(s.c)(O,Object(s.a)(u.a));o.a.render(Object(ee.jsx)(i.a,{store:qe,children:Object(ee.jsx)(Fe,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.f2df1136.chunk.js.map