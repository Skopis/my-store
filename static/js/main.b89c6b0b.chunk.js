(this["webpackJsonpmy-store"]=this["webpackJsonpmy-store"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(10),i=n.n(a),o=n(15),s=n(53),u=n(70),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CART":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_LIST":return t.payload;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return t.payload;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT":return t.payload;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATEGORY":return t.payload;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE_NUM":return t.payload;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCheckOut:!1,emptyCart:[],invoiceTotal:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_OUT":return t.payload;default:return e}},O=Object(s.b)({productList:h,product:j,categories:p,cartItems:l,selectedCategory:d,currentPageNum:b,checkOut:f}),x=n(31),g=n(14),m=n(8),v=n.n(m),y=n(18),k={query:C,getById:function(e,t){return C(e).then((function(e){return e.find((function(e){return e.id===t}))}))},post:function(e,t){return t.id=T(),C(e).then((function(n){return n.unshift(t),w(e,n),t}))},remove:function(e,t){return C(e).then((function(n){var r=n.findIndex((function(e){return e.id===t}));n.splice(r,1),w(e,n)}))},saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t)||null)},loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}};function C(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function T(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var E={query:function(){return N.apply(this,arguments)},queryByCategory:S,getCategories:function(){return I.apply(this,arguments)}};function N(){return(N=Object(y.a)(v.a.mark((function e(){var t,n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=r.length>0&&void 0!==r[0]?r[0]:"")){e.next=12;break}return e.next=4,k.query("productList");case 4:if((n=e.sent)&&n.length){e.next=8;break}return console.log("getting data from API"),e.abrupt("return",fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){return k.saveToStorage("productList",e),e})));case 8:return console.log("getting data from local storage"),e.abrupt("return",n);case 12:return e.abrupt("return",S(t));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return fetch("https://fakestoreapi.com/products/category/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))}function I(){return(I=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.query("categories");case 2:return(t=e.sent)&&t.length||fetch("https://fakestoreapi.com/products/categories").then((function(e){return e.json()})).then((function(e){return k.saveToStorage("categories",e),e})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P={getCart:_,addToCart:function(e){return G.apply(this,arguments)},deleteCart:B,checkOut:function(e){return R.apply(this,arguments)}};function _(){return A.apply(this,arguments)}function A(){return(A=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.query("cartItems");case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return n=e.sent,t.qty=1,n.push(t),k.saveToStorage("cartItems",n),e.abrupt("return",fetch("https://fakestoreapi.com/carts/",{method:"POST",body:JSON.stringify({userId:1,date:"2021 - 06 - 12",products:[{productId:t.id,quantity:1}]})}).then((function(e){return e.json()})).then((function(e){return e})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(y.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{isCheckOut:t,emptyCart:[]});case 2:return n=!1,e.next=5,B();case 5:return r=e.sent,console.log("checkout done!"),n=!0,e.abrupt("return",{isCheckOut:n,emptyCart:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return L.apply(this,arguments)}function L(){return(L=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.saveToStorage("cartItems",[]),e.abrupt("return",fetch("https://fakestoreapi.com/carts/6",{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log("deleteCart",e),[]})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.addToCart(e);case 3:r=t.sent,n({type:"ADD_TO_CART",payload:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with addToCart");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},q=function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getCart();case 3:n=e.sent,t({type:"GET_CART",payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with addToCart");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var n=Object(y.a)(v.a.mark((function n(r){var c,a,i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.checkOut(e);case 3:c=n.sent,a=c.isCheckOut,i=c.emptyCart,r({type:"CHECK_OUT",payload:{isCheckOut:a,emptyCart:i,invoiceTotal:t}}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("Error with checkOut");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},J=n(141),U=n(149),z=n(153),F=n(152),W=n(148),Y=n(150),H=n(151),K=n(71),Q=n.n(K),$=n(102),V=n(147),X=n(162),Z=n(161),ee=n(2),te=Object(J.a)((function(e){return Object(X.a)({root:{"& > *":{marginTop:e.spacing(2)}}})})),ne=function(e){var t=e.productsLength,n=Object(o.b)(),r=te();return Object(ee.jsx)("div",{className:r.root,children:Object(ee.jsx)(Z.a,{count:Math.ceil(t/5),color:"primary",onChange:function(e,t){var r;n((r=t-1,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET_PAGE_NUM",payload:r})}catch(n){console.log("Error with setPageNum")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})})},re=n(164),ce=n(163),ae=n(146),ie=n(145),oe=n(160),se=Object(J.a)((function(e){return Object(X.a)({formControl:{marginTop:e.spacing(3),marginBottom:e.spacing(3),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})}));function ue(){var e=Object(o.b)();Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getCategories();case 3:n=e.sent,t({type:"GET_CATEGORIES",payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with getCategories");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(o.c)((function(e){return e.categories})),n=Object(o.c)((function(e){return e.selectedCategory})),c=se();return Object(ee.jsx)("div",{children:t&&t.length&&Object(ee.jsxs)(ie.a,{className:c.formControl,children:[Object(ee.jsx)(re.a,{id:"demo-simple-select-helper-label",children:"Category"}),Object(ee.jsxs)(oe.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:n,onChange:function(t){var n;e((n=t.target.value,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET_CATEGORY",payload:n})}catch(r){console.log("Error with setCategory")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ee.jsx)(ce.a,{value:"",children:Object(ee.jsx)("em",{children:"None"})}),t.map((function(e){return Object(ee.jsxs)(ce.a,{value:e,children:[e," "]},e)}))]}),Object(ee.jsx)(ae.a,{children:"Choose a Category you're interested in"})]})})}var le=Object(J.a)({table:{minWidth:700}}),he=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.selectedCategory})),n=Object(o.c)((function(e){return e.currentPageNum}));Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.query(e);case 3:r=t.sent,n({type:"GET_PRODUCT_LIST",payload:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with getProductList");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]);var c=Object(o.c)((function(e){return e.productList})),a=c.slice(5*n,5*n+5),i=le(),s=function(){var t=Object(y.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(M(n));case 2:e(q()),e(D(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ee.jsxs)(V.a,{fixed:!0,children:[Object(ee.jsx)(ue,{}),a&&a.length&&Object(ee.jsx)(W.a,{component:$.a,children:Object(ee.jsxs)(U.a,{className:i.table,"aria-label":"simple table",children:[Object(ee.jsx)(Y.a,{children:Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{children:"Product title"}),Object(ee.jsx)(F.a,{align:"right",children:"Price ($)"}),Object(ee.jsx)(F.a,{align:"center",children:"Image"}),Object(ee.jsx)(F.a,{align:"right",children:"Add to cart"})]})}),Object(ee.jsx)(z.a,{children:a.map((function(e){return Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{component:"th",scope:"row",children:e.title}),Object(ee.jsx)(F.a,{align:"center",children:e.price}),Object(ee.jsx)(F.a,{align:"center",children:Object(ee.jsx)("img",{className:"product-img",src:e.image,alt:""})}),Object(ee.jsx)(F.a,{align:"center",children:Object(ee.jsx)(Q.a,{className:"add-to-cart-icon",onClick:function(){return s(e)}})})]},e.id)}))})]})}),Object(ee.jsx)(ne,{productsLength:c.length})]})},pe=n(154),je=Object(J.a)((function(e){return Object(X.a)({table:{minWidth:700,marginTop:e.spacing(3),marginBottom:e.spacing(3)}})}));function de(e){return"".concat(e.toFixed(2))}var be=function(){var e,t=Object(o.b)(),n=Object(o.c)((function(e){return e.cartItems}));Object(r.useEffect)((function(){t(q())}),[]);var c=function(e){if(e&&e.length)return e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)}(n)||0,a=.17*c,i=a+c,s=je();e=Object(o.c)((function(e){return e.checkOut})).isCheckOut;var u=Object(o.c)((function(e){return e.checkOut})).invoiceTotal.toFixed(2),l=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(D(!0,i));case 2:return e.next=4,t(q());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(V.a,{fixed:!0,children:[Object(ee.jsx)(x.b,{to:"/",children:Object(ee.jsx)(pe.a,{className:"btn",variant:"contained",color:"primary",children:"Back to Products list"})}),n&&n.length&&Object(ee.jsxs)(W.a,{className:s.table,component:$.a,children:[Object(ee.jsxs)(U.a,{"aria-label":"spanning table",children:[Object(ee.jsx)(Y.a,{children:Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{children:"Product title"}),Object(ee.jsx)(F.a,{children:"Price"}),Object(ee.jsx)(F.a,{align:"center",children:"Image"}),Object(ee.jsx)(F.a,{children:"Qty."})]})}),Object(ee.jsxs)(z.a,{children:[n.map((function(e){return Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{children:e.title}),Object(ee.jsx)(F.a,{children:e.price}),Object(ee.jsx)(F.a,{align:"center",children:Object(ee.jsx)("img",{className:"cart-item-img",src:e.image,alt:""})}),Object(ee.jsx)(F.a,{children:"1"})]},e.id)})),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{rowSpan:3}),Object(ee.jsx)(F.a,{colSpan:2,children:"Subtotal"}),Object(ee.jsx)(F.a,{className:"cart-price",align:"right",children:de(c)})]}),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{children:"Tax"}),Object(ee.jsx)(F.a,{align:"right",children:"".concat(17..toFixed(0)," %")}),Object(ee.jsx)(F.a,{className:"cart-price",align:"right",children:de(a)})]}),Object(ee.jsxs)(H.a,{children:[Object(ee.jsx)(F.a,{colSpan:2,children:"Total"}),Object(ee.jsx)(F.a,{className:"cart-price",align:"right",children:de(i)})]})]})]}),Object(ee.jsx)(pe.a,{className:"btn btn-check-out",variant:"contained",color:"primary",onClick:function(){return l()},children:"Check Out"})]}),e&&Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{children:"Checkout completed successfully!"}),Object(ee.jsxs)("p",{children:["Payment of $",u," recieved"]}),Object(ee.jsx)("p",{children:"Your items are due to arrive within the next 7 business days"})]})]})},fe=n(68),Oe=n(60),xe=n(157),ge=n(158),me=n(155),ve=n(159),ye=n(156),ke=n(66),Ce=n.n(ke),we=n(74),Te=n(72),Ee=n.n(Te),Ne=n(67),Se=n.n(Ne),Ie=n(73),Pe=n.n(Ie),_e=Object(J.a)((function(e){return Object(X.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(Oe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},sectionDesktop:Object(Oe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(Oe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})}));function Ae(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.cartItems}));Object(r.useEffect)((function(){e(q())}),[]);var n=_e(),a=c.a.useState(null),i=Object(fe.a)(a,2),s=i[0],u=i[1],l=c.a.useState(null),h=Object(fe.a)(l,2),p=h[0],j=h[1],d=Boolean(s),b=Boolean(p),f=function(e){u(e.currentTarget)},O=function(){j(null)},g=function(){u(null),O()},m="primary-search-account-menu",v=Object(ee.jsxs)(we.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:g,children:[Object(ee.jsx)(ce.a,{onClick:g,children:"Profile"}),Object(ee.jsx)(ce.a,{onClick:g,children:"My account"})]}),y="primary-search-account-menu-mobile",k=Object(ee.jsxs)(we.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:O,children:[Object(ee.jsx)(x.b,{className:"link",to:"/cart",children:Object(ee.jsxs)(ce.a,{children:[Object(ee.jsx)(me.a,{"aria-label":"show new notifications",color:"inherit",children:Object(ee.jsx)(ye.a,{badgeContent:t.length,color:"secondary",children:Object(ee.jsx)(Ce.a,{})})}),Object(ee.jsx)("p",{children:"Cart"})]})}),Object(ee.jsxs)(ce.a,{onClick:f,children:[Object(ee.jsx)(me.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(ee.jsx)(Se.a,{})}),Object(ee.jsx)("p",{children:"Profile"})]})]});return Object(ee.jsxs)("div",{className:n.grow,children:[Object(ee.jsx)(xe.a,{position:"static",children:Object(ee.jsxs)(ge.a,{children:[Object(ee.jsx)(me.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"open drawer",children:Object(ee.jsx)(Ee.a,{})}),Object(ee.jsx)(ve.a,{className:n.title,variant:"h6",noWrap:!0,children:Object(ee.jsx)(x.b,{to:"/",children:"Products"})}),Object(ee.jsx)("div",{className:n.grow}),Object(ee.jsxs)("div",{className:n.sectionDesktop,children:[Object(ee.jsx)(me.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(ee.jsx)(x.b,{className:"link",to:"/cart",children:Object(ee.jsx)(ye.a,{badgeContent:t.length,color:"secondary",children:Object(ee.jsx)(Ce.a,{})})})}),Object(ee.jsx)(me.a,{edge:"end","aria-label":"account of current user","aria-controls":m,"aria-haspopup":"true",onClick:f,color:"inherit",children:Object(ee.jsx)(Se.a,{})})]}),Object(ee.jsx)("div",{className:n.sectionMobile,children:Object(ee.jsx)(me.a,{"aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(ee.jsx)(Pe.a,{})})})]})}),k,v]})}n(100);var Ge=function(){return Object(ee.jsx)("div",{className:"App",children:Object(ee.jsxs)(x.a,{children:[Object(ee.jsx)(Ae,{}),Object(ee.jsx)(g.a,{component:be,path:"/cart"}),Object(ee.jsx)(g.a,{component:he,exact:!0,path:"/"})]})})},Re=Object(s.c)(O,Object(s.a)(u.a));i.a.render(Object(ee.jsx)(o.a,{store:Re,children:Object(ee.jsx)(Ge,{})}),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.b89c6b0b.chunk.js.map